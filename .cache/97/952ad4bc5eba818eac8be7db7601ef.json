{"id":"node_modules/react-modal/lib/helpers/focusManager.js","dependencies":[{"name":"/home/benestruv/Desktop/react-js-pomodoro/package.json","includedInParent":true,"mtime":1549214319716},{"name":"/home/benestruv/Desktop/react-js-pomodoro/.babelrc","includedInParent":true,"mtime":1549131134398},{"name":"/home/benestruv/Desktop/react-js-pomodoro/node_modules/react-modal/package.json","includedInParent":true,"mtime":1548968152088},{"name":"../helpers/tabbable","loc":{"line":14,"column":24},"parent":"/home/benestruv/Desktop/react-js-pomodoro/node_modules/react-modal/lib/helpers/focusManager.js","resolved":"/home/benestruv/Desktop/react-js-pomodoro/node_modules/react-modal/lib/helpers/tabbable.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n    if (!modalElement) {\n      return;\n    }\n    // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n\n/* eslint-disable no-console */\nfunction returnFocus() {\n  var toFocus = null;\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus();\n    }\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}","map":{"mappings":[{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"node_modules/react-modal/lib/helpers/focusManager.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}}],"sources":{"node_modules/react-modal/lib/helpers/focusManager.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n    if (!modalElement) {\n      return;\n    }\n    // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n\n/* eslint-disable no-console */\nfunction returnFocus() {\n  var toFocus = null;\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus();\n    }\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}"},"lineCount":94}},"hash":"427f992d790b3a4b2073b46e0e68949d","cacheData":{"env":{}}}